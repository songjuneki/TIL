# 개발 베타(~23.06.) 회고록

## Fact

- 개인정보처리방침 갱신 기능 구현
- 앱 이용 약관 및 개인정보처리방침 업데이트
- 헌금 조회 기능 삭제
- 조직도 리스트 기능 리팩토링
- 베타 버전 플레이 스토어 출시

## Feeling

- 앱 출시를 위해서 약관과 같은 영역에서 수정을 했다.  
  약관 내용을 전체적으로 알맞게 손보고 또 사용자 동의를 갱신할 수 있게 해줬다.  
  법률과 이어지는 부분이기에 다른 모바일 앱의 경우도 어떻게 돼있는지 보고 개인정보처리방침에서는 개인정보보호법도 읽어보며 문제가 가는 부분이 없는지도 확인했다. 앱이 아직 완벽하게 완성된 것이 아니라서 좀 더 보완해야하는 부분도 있다. 차후 계속해서 업데이트를 해야겠다.

- 헌금 조회 기능을 삭제했다. 교회 재정부에서의 난색을 표해서 조회 기능만 보이지 않게 수정했다. 관리해야하는 게 늘어나서 재정부의 입장에서 이해는 간다. 먼 미래에 이 앱이 많이 쓰인다면 헌금 기능을 다시 쓰일 날이 올 수 도 있으니 기능은 숨기기만 했다. 이로 인해 내 정보와 홈 대시보드에서 약간의 UI를 수정했다. 내가 나름 현재 디자인 컨셉에 너무 깨지지 않게 해줬다. 디자인에 약간 재능이 있는 것 같다.

- 이전의 조직도 리스트 기능은 중첩된 Recycler 형태였다. 이로 인해 간헐적으로 리스트 요소들의 크기가 맞지 않는다거나 스크롤이 부드럽게 되지 않는다던가 하는 여러 문제가 있어서 1차원 리스트와 해시맵을 이용하여 ListAdapter를 만들었다.  
  이 문제를 해결하기 위해서 RecyclerView 작동 방식을 자세하게 알아보기도 하고 ExpandableListView를 사용해보기도 하고 여러 뻘짓을 했지만 덕분에 가장 좋은 해결책을 찾게 된 것이다. 서버로 받아온 조직도 데이터를 1차원 배열과 키-값 형태로 파싱하여 ListAdapter를 구현한 방식이다. 데이터를 처음 파싱할 때 빼고는 퍼포먼스적으로도 상당히 우위가 있다. 구현하는데 약 3주가 걸렸지만 그 만큼 가장 만족할 만한 성능과 기능을 나타내준다. 역시 들인 시간과 퀄리티는 비례한다.

- 플레이 스토어에 앱을 등록하기 위해서 수정한 점도 있다. 프로젝트내에 보안 관련하여 비밀키는 하드코딩 돼있으면 앱을 등록할 수 가 없다. 교인증 QR코드 기능에서 데이터를 보호하기 위해 AES256 으로 암호화한 부분이 있는데 이것 때문에 등록할 수가 없었다. Android KeyStore 시스템을 이용하여 구현하면 되지만 AOS, iOS 플랫폼에 구애받지 않고 교인증 스캐너 기능을 작동하는 것을 목표로 하고 있어서 AES256 암호화 부분은 과감하게 빼버렸다. 계속해서 찾아보고 다른 대안을 알아봐야겠다.

## Finding

- 개인정보보호 관련 법률에 대해서 더 알게 됐다.
- RecyclerView 작동 방식

## Future Action

- 게시판 기능 구현
- AOS - iOS 둘 다 작동하는 암호방식 알아보기
- 정식 버전 배포

## Feedback

- 조직도 기능을 잘 만들었지만 코드 정리가 필요하다.
