# 게시판 기능 개발(~23.10.12) 회고록

## Fact

- 기존 UiAction flow 방식에서 이벤트 호출 방식으로 변경
- 게시판 관리자 페이지 구현
- 홈 대시보드에 게시판 관련 구현
- 게시글 모든 미디어 타입 구현 필요
- 앱 출시 준비 완료

## Feeling

- 기존에는 Android codelab에 나와있는 방식인 UiAction 객체를 만들어 해당 객체를 통해 사용자 액션과 이벤트를 제어하는 방식이였는데 각각의 액션과 이벤트를 정의하고 관리하기에는 코드 가독성이 너무 떨어졌다. 그래서 사용자 액션이 일어나면 직접 ViewModel의 이벤트를 불러오는 방식으로 변경했다. 해당 방식에서 중요한 건 UDF를 준수하고 이벤트를 통해 UiState를 확실하게 변경해주는 것이다. 많은 버그들을 겪었었다. 이벤트 발생 후 의도한 상태로 돌아오지 않는 버그나 계속해서 이벤트를 발생시키는 버그 등 많은 시행착오 끝에 의도한 대로 작동하는 프로젝트를 보니 너무 기분이 좋다.

- 기능들을 구현하면서 확실하게 안드로이드 권장 아키텍처에 익숙해진다. 그러다 보니 점점 욕심이 생긴다. 구현한 기능들을 모두 리팩토링 하고 싶기도 하고 더 나아가서는 의존성 주입과 유닛 테스트를 접해보고 싶다. 의존성 주입은 차후에 모두 리팩토링 하다가 보면 ViewModel 과 Repository 관련해서 도입해야 하겠지만 유닛 테스트는 혼자 프로젝트를 진행하면서 테스트까지 맡아보기에는 시간이 더 오래걸릴 것 같다... 테스트 관련은 단순한 사이드 프로젝트를 통해 경험을 해봐야 할 것 같다.

- 게시글의 미디어는 현재 사진과 유튜브만 가능하다. 링크와 파일은 아직 작업이 더 필요하다. 링크의 경우에는 OpenGraphTag 를 가져오는 부분에 대해서 공부가 더 필요하다. 현재 https 링크 정보 가져오는 문제, List ViewHolder 에서 비동기 코드 문제가 있다. 안드로이드/자바 가 아닌 https 자체에 대해서 공부를 더 해야 되겠고 RecyclerView ViewHolder 에 대해서도 더 공부해봐야겠다. 그리고 파일 타입은 구현해야 하나 말아야하나 고민이다. 파일 자료가 주된 콘텐츠가 아니기도 하고 웹을 통하여 받으면 그만이기 때문이다. 앱에서 파일을 받기에는 너무 많은 소유시간이 걸린다. 먼저 웹에서 해당 게시글을 여는 바로가기를 만들어서 제공 해야겠다. 추가로 유튜브 타입 역시 더 확장할 필요성이 있다. 현재는 심플하게 iframe 플레이어를 보여주지만 이러면 앱의 의미가 너무 없다. 유튜브 기능을 먼저 확장해보자.

- 이렇게 까지 기능을 구현하고 먼저 플레이 스토어에 출시를 해야겠다. 실제 앱을 운영하면서 피드백을 받아들이고 오류들을 고쳐갈 생각이다. 너무 많은 시간이 걸렸다. 이제는 출시 할 때가 됐다.

## Finding

- 안드로이드 권장 아키텍처에서 UiAction을 대신하여 사용자 액션 및 이벤트 관리하는 방법

## Future Action

- 게시판 기능 확장 (유튜브, 링크 미디어 관련)
- 앱 출시
- 기존 코드 리팩토링
- 의존성 주입 공부

## Feedback
